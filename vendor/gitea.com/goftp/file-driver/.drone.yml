kind: pipeline
name: default

steps:
- name: test
  image: golang:1.12
  environment:
    - GO111MODULE=on
    - GOPROXY=https://goproxy.cn
  commands:
    - go build -v
    - go vet ./...
    - go test -v -race -coverprofile=coverage.txt -covermode=atomic